!function(){function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in r){var e=r[t];delete r[t];var n={id:t,exports:{}};return o[t]=n,e.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},n.parcelRequired7c6=a),a.register("iE7OH",(function(e,n){var o,r;t(e.exports,"register",(function(){return o}),(function(t){return o=t})),t(e.exports,"resolve",(function(){return r}),(function(t){return r=t}));var a={};o=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)a[e[n]]=t[e[n]]},r=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a.register("aNJCr",(function(e,n){var o;t(e.exports,"getBundleURL",(function(){return o}),(function(t){return o=t}));var r={};function a(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(t){var e=r[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return a(t[2])}return"/"}(),r[t]=e),e}})),a("iE7OH").register(JSON.parse('{"EVgbq":"library.8deb28a9.js","1sXxD":"noimage.2ec20c5a.jpg"}'));var i={openModalBtn:document.querySelector("[data-modal-open-team]"),closeModalBtn:document.querySelector("[data-modal-close-team]"),modal:document.querySelector("[data-modal-team]")};function c(t){t.preventDefault(),i.modal.classList.toggle("is-hidden__footer")}i.openModalBtn.addEventListener("click",c),i.closeModalBtn.addEventListener("click",c);var l={watchedBtn:document.querySelector(".watched"),queueBtn:document.querySelector(".queue"),adwBtn:document.querySelector(".adw"),atqBtn:document.querySelector(".atq"),gokBtn:document.querySelector(".gok")},s="films",u="queue",d=-1,f=-1;try{localStorage.getItem(s)||localStorage.setItem(s,JSON.stringify([])),localStorage.getItem(u)||localStorage.setItem(u,JSON.stringify([]))}catch(t){console.log(t)}function g(t,e,n,o){var r=[];try{r=JSON.parse(localStorage.getItem(e))}catch(t){console.log(t)}if(r.length){var a=r.findIndex((function(e){return e.id===t.id}));return a>-1?(console.log("Фільм знаходиться в збережених у памяті кнопка remove під номером - ",a),n.innerText="REMOVE TO "+o,a):(console.log("Фільма немає в збережених у памяті кнопка add to watch"),n.innerText="ADD TO "+o,-1)}return console.log("Список фільмів збережених у памяті пустий кнопка add to watch"),n.innerText="ADD TO "+o,0}function h(t,e,n,o){try{var r=JSON.parse(localStorage.getItem(e));r.push(t),localStorage.setItem(e,JSON.stringify(r)),console.log("фільм додано"),n.innerText="REMOVE TO "+o}catch(t){console.log(t)}}function m(t,e,n,o){try{var r=JSON.parse(localStorage.getItem(e));r.splice(t,1),localStorage.setItem(e,JSON.stringify(r)),console.log("фільм видалено"),n.innerText="ADD TO "+o}catch(t){console.log(t)}}function p(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){console.log(t)}}function p(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){console.log(t)}}l.adwBtn.addEventListener("click",(function(){var t=l.adwBtn.innerText;console.log(t),"ADD TO WATCHED"===t?h(films[0],s,l.adwBtn,"WATCHED"):m(d,s,l.adwBtn,"WATCHED")})),l.watchedBtn.addEventListener("click",(function(){p(s)})),l.queueBtn.addEventListener("click",(function(){p(u)})),l.atqBtn.addEventListener("click",(function(){var t=l.atqBtn.innerText;console.log(t),"ADD TO QUEUE"===t?h(films[0],u,l.atqBtn,"QUEUE"):m(f,u,l.atqBtn,"QUEUE")})),l.gokBtn.addEventListener("click",(function(){console.log("Рандомний фільм",films[0]),d=g(films[0],s,l.adwBtn,"WATCHED"),f=g(films[0],u,l.atqBtn,"QUEUE")}));var v,y=a("l5bVx"),C=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,S=/^0o[0-7]+$/i,b=parseInt,E="object"==typeof n&&n&&n.Object===Object&&n,q="object"==typeof self&&self&&self.Object===Object&&self,T=E||q||Function("return this")(),O=Object.prototype.toString,k=Math.max,B=Math.min,L=function(){return T.Date.now()};function w(t){var n=void 0===t?"undefined":e(y)(t);return!!t&&("object"==n||"function"==n)}function D(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(y)(t))||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==O.call(t)}(t))return NaN;if(w(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=w(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(C,"");var o=_.test(t);return o||S.test(t)?b(t.slice(2),o?2:8):x.test(t)?NaN:+t}v=function(t,e,n){var o,r,a,i,c,l,s=0,u=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=o,a=r;return o=r=void 0,s=e,i=t.apply(a,n)}function h(t){return s=t,c=setTimeout(p,e),u?g(t):i}function m(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-s>=a}function p(){var t=L();if(m(t))return v(t);c=setTimeout(p,function(t){var n=e-(t-l);return d?B(n,a-(t-s)):n}(t))}function v(t){return c=void 0,f&&o?g(t):(o=r=void 0,i)}function y(){var t=L(),n=m(t);if(o=arguments,r=this,l=t,n){if(void 0===c)return h(l);if(d)return c=setTimeout(p,e),g(l)}return void 0===c&&(c=setTimeout(p,e)),i}return e=D(e)||0,w(n)&&(u=!!n.leading,a=(d="maxWait"in n)?k(D(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=l=r=c=void 0},y.flush=function(){return void 0===c?i:v(L())},y};var M,N=a("8MBJY"),U=a("a2hTj"),j=a("dDDEV");M=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("1sXxD");var A="2f8d6050c74d5f454a522d74a8cedbb8",I="https://api.themoviedb.org/3",J=function(){"use strict";function t(){e(N)(this,t),this.searchQuery="",this.page=1,this.maxPage=1}return e(U)(t,[{key:"fetchPopularMoviesMaxPage",value:function(){return fetch("".concat(I,"/trending/movie/day?api_key=").concat(A,"&language=en-US")).then((function(t){return t.json()}))}},{key:"fetchPopularMovies",value:function(){var t=this,n="".concat(I,"/trending/movie/day?api_key=").concat(A,"&language=en-US&page=").concat(this.page);return fetch(n).then((function(t){return t.json()})).then((function(n){var o=n.results,r=t;return t.fetchFilmGenre().then((function(t){var n=r;return o.map((function(o){return e(j)({},o,{release_date:o.release_date?o.release_date.split("-")[0]:o.release_date,genres:n.filterGenres(t,o),poster_path:o.poster_path?"https://image.tmdb.org/t/p/w500/".concat(o.poster_path):e(M)})}))}))}))}},{key:"filterGenres",value:function(t,e){var n=e.genre_ids.map((function(e){return t.filter((function(t){return t.id===e})).map((function(t){return t.name}))})).flat();return 2===n.length&&(n=["".concat(n[0],", ").concat(n[1])]),n.length>2&&(n="".concat(n[0],", ").concat(n[1],", Other")),n}},{key:"filterGenresLib",value:function(t){var e=t.genres.map((function(t){return t.name})).flat();return 2===e.length&&(e=["".concat(e[0],", ").concat(e[1])]),e.length>2&&(e="".concat(e[0],", ").concat(e[1],", Other")),e}},{key:"fetchSearchMovies",value:function(){var t=this,n="".concat(I,"/search/movie?api_key=").concat(A,"&language=en-US&page=").concat(this.page,"&query=").concat(this.searchQuery);return fetch(n).then((function(t){return t.json()})).then((function(n){var o=n.results,r=t;return t.fetchFilmGenre().then((function(t){var n=r;return o.map((function(o){return e(j)({},o,{release_date:o.release_date?o.release_date.split("-")[0]:o.release_date,genres:n.filterGenres(t,o),poster_path:o.poster_path?"https://image.tmdb.org/t/p/w500/".concat(o.poster_path):e(M)})}))}))}))}},{key:"fetchFilmByID",value:function(t){var n=this,o="".concat(I,"/movie/").concat(t,"?api_key=").concat(A,"&language=en-US");return fetch(o).then((function(t){return t.json()})).then((function(t){return e(j)({},t,{release_date:t.release_date?t.release_date.split("-")[0]:t.release_date,genres:n.filterGenresLib(t),poster_path:t.poster_path?"https://image.tmdb.org/t/p/w500/".concat(t.poster_path):e(M)})}))}},{key:"fetchFilmGenre",value:function(){var t="".concat(I,"/genre/movie/list?api_key=").concat(A,"&language=en-US");return fetch(t).then((function(t){return t.json()})).then((function(t){return t.genres}))}},{key:"fetchPopularMoviesPages",value:function(){var t="".concat(I,"/trending/movie/day?api_key=").concat(A,"&language=en-US&page=").concat(this.page);return fetch(t).then((function(t){return t.json()}))}},{key:"fetchSearchMoviesPages",value:function(){var t="".concat(I,"/trending/movie/day?api_key=").concat(A,"&language=en-US&page=").concat(this.page,"&query=").concat(this.searchQuery);return fetch(t).then((function(t){return t.json()}))}},{key:"fetchTrailers",value:function(t){var e="".concat("https://youtube.googleapis.com/youtube/v3/search?part=snippet","&q=").concat(t,' + "trailer"&key=').concat("AIzaSyBsjU_AyffyMHxyv2KNKiEnDPB3n0dY8XE");return fetch(e).then((function(t){return t.json()})).then((function(t){return t.items[0].id.videoId}))}},{key:"pageNum",get:function(){return this.page},set:function(t){this.page=t}},{key:"resetPageNum",value:function(){return this.page=1}},{key:"maxPageNum",get:function(){return this.maxPage},set:function(t){this.maxPage=t}},{key:"query",get:function(){return this.searchQuery},set:function(t){this.searchQuery=t}}]),t}(),H=document.querySelector(".js-spinner");function Q(){H.classList.add("is-open")}function P(){setTimeout((function(){H.classList.remove("is-open")}),300)}var R={searchError:document.querySelector(".header__error-text"),emptyGalleryText:document.querySelector(".info-notify-text"),emptyGalleryImg:document.querySelector(".info-notify")};function G(t){R.emptyGalleryText.textContent="".concat(t),R.emptyGalleryImg.classList.remove("is-hidden")}function F(){R.emptyGalleryImg.classList.add("is-hidden")}var W=new J,V={gallery:document.querySelector(".js-gallery"),search:document.querySelector(".header__form-input"),pagination:document.querySelector(".pagination")};function $(){Y(),F(),it(),Q(),W.fetchPopularMovies().then(X).catch(console.log).finally(P)}function z(){F(),Q(),W.fetchSearchMovies().then((function(t){0===t.length?(R.searchError.classList.remove("is-hidden"),setTimeout((function(){return R.searchError.classList.add("is-hidden")}),2500),G("Film not found"),K()):X(t)})).catch(console.log).finally(P)}function X(t){V.gallery.insertAdjacentHTML("beforeend",cardTpl(t))}function Y(){V.gallery.innerHTML=""}function K(){document.querySelectorAll(".film-average").forEach((function(t){return t.classList.remove("is-hidden")})),document.querySelectorAll(".card-delete-btn").forEach((function(t){return t.classList.remove("is-hidden")})),V.pagination.classList.add("is-hidden")}$(),V.search.addEventListener("input",e(v)((function(t){W.query=t.target.value,Y(),ct(),W.resetPageNum(),V.pagination.classList.remove("is-hidden"),W.query?(it(),z()):$()}),1e3)),V.search.addEventListener("keydown",(function(t){if("Enter"===t.code||13===t.keyCode)return void t.preventDefault()}));var Z="2f8d6050c74d5f454a522d74a8cedbb8",tt="https://api.themoviedb.org/3",et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat(tt,"/trending/movie/day?api_key=").concat(Z,"&language=en-US&page=").concat(t),n="".concat(tt,"/search/movie?api_key=").concat(Z,"&language=en-US&page=").concat(t,"&query=").concat(W.searchQuery),o=W.searchQuery?n:e;return fetch(o).then((function(t){return t.json()})).then((function(t){return t.total_pages}))},nt={dec:document.querySelector("#dec"),inc:document.querySelector("#inc"),page_numbers:document.querySelectorAll(".pag_text"),page_items:document.querySelectorAll(".pag_item"),pageMax:document.querySelector(".last_page"),dotsLeft:document.querySelector('[data-dots="left"]'),dotsRigth:document.querySelector('[data-dots="rigth"]'),middleBtn:document.querySelector("#l3"),btn4:document.querySelector("#l4"),btn2:document.querySelector("#l2"),pageFirst:document.querySelector(".first_page")};function ot(){nt.page_items.forEach((function(t){return t.classList.remove("pag_item__current")}))}function rt(t){t.classList.add("is-hidden")}function at(t){t.classList.remove("is-hidden")}function it(){et().then((function(t){return nt.pageMax.firstChild.textContent=t}))}function ct(){at(nt.dotsRigth),nt.btn2.firstChild.textContent="2",nt.middleBtn.firstChild.textContent="3",nt.btn4.firstChild.textContent="4",rt(nt.dotsLeft),ot(),nt.pageFirst.classList.add("pag_item__current")}nt.inc.addEventListener("click",(function(){et().then((function(t){+nt.page_numbers[4].textContent!==t?(1==nt.dec.disabled&&(nt.dec.disabled=!1),nt.page_items.forEach((function(t){1!=+t.firstChild.textContent&&"..."!==t.firstChild.textContent&&t.firstChild.textContent!==nt.pageMax.firstChild.textContent&&t.firstChild.textContent++}))):nt.inc.disabled=!0}))})),nt.dec.addEventListener("click",(function(){"1"!==nt.page_numbers[0].textContent?(1==nt.inc.disabled&&(nt.inc.disabled=!1),nt.page_numbers.forEach((function(t){t.textContent=+t.textContent-1}))):nt.dec.disabled=!0})),nt.page_items.forEach((function(t){t.addEventListener("click",(function(e){W.pageNum=t.firstChild.textContent,ot(),"..."!==t.firstChild.textContent&&(setTimeout((function(){t.firstChild.textContent,nt.page_items.forEach((function(t){+W.pageNum==+t.firstChild.textContent&&t.classList.add("pag_item__current")}))}),300),e.currentTarget===nt.btn4&&(nt.page_items.forEach((function(t){1!=+t.firstChild.textContent&&"..."!==t.firstChild.textContent&&t.firstChild.textContent!==nt.pageMax.firstChild.textContent&&t.firstChild.textContent++})),at(nt.dotsLeft)),e.currentTarget===nt.btn2&&3==+t.firstChild.textContent&&(nt.page_items.forEach((function(t){1!=+t.firstChild.textContent&&"..."!==t.firstChild.textContent&&t.firstChild.textContent!==nt.pageMax.firstChild.textContent&&t.firstChild.textContent--})),rt(nt.dotsLeft)),e.currentTarget===nt.btn2&&+t.firstChild.textContent>3&&nt.page_items.forEach((function(t){1!=+t.firstChild.textContent&&"..."!==t.firstChild.textContent&&t.firstChild.textContent!==nt.pageMax.firstChild.textContent&&t.firstChild.textContent--})),1==+t.firstChild.textContent&&(at(nt.dotsRigth),nt.btn2.firstChild.textContent="2",nt.middleBtn.firstChild.textContent="3",nt.btn4.firstChild.textContent="4",rt(nt.dotsLeft)),t.firstChild.textContent===nt.pageMax.firstChild.textContent&&(at(nt.dotsLeft),nt.btn2.firstChild.textContent=+nt.pageMax.firstChild.textContent-3,nt.middleBtn.firstChild.textContent=+nt.pageMax.firstChild.textContent-2,nt.btn4.firstChild.textContent=+nt.pageMax.firstChild.textContent-1,rt(nt.dotsRigth)),e.currentTarget===nt.btn2&&+nt.pageMax.firstChild.textContent-3&&at(nt.dotsRigth),e.currentTarget===nt.btn4&&+e.currentTarget.firstChild.textContent==+nt.pageMax.firstChild.textContent-1&&rt(nt.dotsRigth),Y(),W.searchQuery?z():$())}))})),a("18qdp");var lt={watchedBtn:document.querySelector(".watched"),queueBtn:document.querySelector(".queue"),adwBtn:document.querySelector(".adw"),atqBtn:document.querySelector(".atq"),gokBtn:document.querySelector(".gok")},st="films",ut="queue",dt=-1,ft=-1,gt=0;try{localStorage.getItem(st)||localStorage.setItem(st,JSON.stringify([])),localStorage.getItem(ut)||localStorage.setItem(ut,JSON.stringify([]))}catch(t){console.log(t)}function ht(t,e,n,o){var r=[];try{r=JSON.parse(localStorage.getItem(e))}catch(t){console.log(t)}if(r.length){var a=r.findIndex((function(e){return e.id===t.id}));return a>-1?(console.log("Фільм знаходиться в збережених у памяті кнопка remove під номером - ",a),n.innerText="REMOVE TO "+o,a):(console.log("Фільма немає в збережених у памяті кнопка add to watch"),n.innerText="ADD TO "+o,-1)}return console.log("Список фільмів збережених у памяті пустий кнопка add to watch"),n.innerText="ADD TO "+o,0}function mt(t,e,n,o){try{var r=JSON.parse(localStorage.getItem(e));r.push(t),localStorage.setItem(e,JSON.stringify(r)),console.log("фільм додано"),n.innerText="REMOVE TO "+o}catch(t){console.log(t)}}function pt(t,e,n,o){try{var r=JSON.parse(localStorage.getItem(e));r.splice(t,1),localStorage.setItem(e,JSON.stringify(r)),console.log("фільм видалено"),n.innerText="ADD TO "+o}catch(t){console.log(t)}}function vt(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){console.log(t)}}function vt(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){console.log(t)}}lt.adwBtn.addEventListener("click",(function(){var t=lt.adwBtn.innerText;console.log(t),"ADD TO WATCHED"===t?mt(films[gt],st,lt.adwBtn,"WATCHED"):pt(dt,st,lt.adwBtn,"WATCHED")})),lt.watchedBtn.addEventListener("click",(function(){vt(st)})),lt.queueBtn.addEventListener("click",(function(){vt(ut)})),lt.atqBtn.addEventListener("click",(function(){var t=lt.atqBtn.innerText;console.log(t),"ADD TO QUEUE"===t?mt(films[gt],ut,lt.atqBtn,"QUEUE"):pt(ft,ut,lt.atqBtn,"QUEUE")})),lt.gokBtn.addEventListener("click",(function(){gt=Math.floor(7*Math.random()),console.log("Рандомний фільм",films[gt]),dt=ht(films[gt],st,lt.adwBtn,"WATCHED"),ft=ht(films[gt],ut,lt.atqBtn,"QUEUE")})),a("2hEST");N=a("8MBJY"),U=a("a2hTj");var yt=function(){"use strict";function t(){e(N)(this,t),this.id=""}return e(U)(t,[{key:"fetchMovie",value:function(){var t="".concat("https://api.themoviedb.org/").concat(this.id,"/movie/550?api_key=").concat("1f93214cb1bbadcc143eeb01d552ab8c");return fetch(t).then((function(t){return t.ok,t.json()})).catch((function(t){return console.log(t)}))}},{key:"query",get:function(){return this.id},set:function(t){this.id=t}}]),t}();function Ct(t){return'\n    <div class="backdrop" data-modal>\n      <div class="modal">\n        <button type="button" class="modal-close" data-modal-close>\n          <img src="./images/close.svg" alt="modal-close" width="30" height="30" />\n        </button>\n        <div class="modal-poster">\n          <img\n            class="modal-poster__img"\n            src="https://image.tmdb.org/t/p/original/'.concat(t.poster_path,'"\n            alt="').concat(t.title,'"\n          />\n        </div>\n        <div class="modal-descr">\n          <p class="modal-title">').concat(t.title,'</p>\n          <table class="modal-info">\n            <tr>\n              <td class="modal-info__param">Vote / Votes</td>\n              <td class="modal-info__data">\n                <span class="modal-info__data-vote">').concat(t.vote_average,'</span>\n                /\n                <span class="modal-info__data-votes">').concat(t.vote_count,'</span>\n              </td>\n            </tr>\n            <tr>\n              <td class="modal-info__param">Popularity</td>\n              <td class="modal-info__data">').concat(t.popularity,'</td>\n            </tr>\n            <tr>\n              <td class="modal-info__param">Original Title</td>\n              <td class="modal-info__data">').concat(t.original_title,'</td>\n            </tr>\n            <tr>\n              <td class="modal-info__param">Genre</td>\n              <td class="modal-info__data">').concat(t.genres[0].name,'</td>\n            </tr>\n          </table>\n          <h4 class="modal-about">ABOUT</h4>\n          <p class="modal-description">').concat(t.overview,'</p>\n          <div class="modal-btns">\n            <button class="btn modal-watched">ADD TO WATCHED</button>\n            <button class="btn modal-queue">ADD TO QUEUE</button>\n          </div>\n        </div>\n      </div>\n    </div>')}var xt=document.querySelector("body"),_t=(document.querySelector(".backdrop"),document.querySelector("js-gallery")),St=new yt;function bt(t){console.log(t),xt.insertAdjacentHTML("beforeend",Ct(t))}_t.addEventListener("click",(function(t){if("IMG"!==t.target.nodeName)return;St.query=t.target.datafilmid,St.fetchMovie().then(bt)}))}();
//# sourceMappingURL=library.8deb28a9.js.map
