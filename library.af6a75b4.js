function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"5ZPII":"library.af6a75b4.js","i2NY3":"noimage.2ec20c5a.jpg"}')),(()=>{const e={openModalBtn:document.querySelector("[data-modal-open-team]"),closeModalBtn:document.querySelector("[data-modal-close-team]"),modal:document.querySelector("[data-modal-team]")};function t(t){t.preventDefault(),e.modal.classList.toggle("is-hidden__footer")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})();const a={watchedBtn:document.querySelector(".watched"),queueBtn:document.querySelector(".queue"),adwBtn:document.querySelector(".adw"),atqBtn:document.querySelector(".atq"),gokBtn:document.querySelector(".gok")};let s=-1,l=-1;try{localStorage.getItem("films")||localStorage.setItem("films",JSON.stringify([]));localStorage.getItem("queue")||localStorage.setItem("queue",JSON.stringify([]))}catch(e){console.log(e)}function c(e,t,n,r){let o=[];try{o=JSON.parse(localStorage.getItem(t))}catch(e){console.log(e)}if(o.length){const t=o.findIndex((t=>t.id===e.id));return t>-1?(console.log("Фільм знаходиться в збережених у памяті кнопка remove під номером - ",t),n.innerText="REMOVE TO "+r,t):(console.log("Фільма немає в збережених у памяті кнопка add to watch"),n.innerText="ADD TO "+r,-1)}return console.log("Список фільмів збережених у памяті пустий кнопка add to watch"),n.innerText="ADD TO "+r,0}function d(e,t,n,r){try{const o=JSON.parse(localStorage.getItem(t));o.push(e),localStorage.setItem(t,JSON.stringify(o)),console.log("фільм додано"),n.innerText="REMOVE TO "+r}catch(e){console.log(e)}}function u(e,t,n,r){try{const o=JSON.parse(localStorage.getItem(t));o.splice(e,1),localStorage.setItem(t,JSON.stringify(o)),console.log("фільм видалено"),n.innerText="ADD TO "+r}catch(e){console.log(e)}}function f(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function f(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}a.adwBtn.addEventListener("click",(()=>{const e=a.adwBtn.innerText;console.log(e),"ADD TO WATCHED"===e?d(films[0],"films",a.adwBtn,"WATCHED"):u(s,"films",a.adwBtn,"WATCHED")})),a.watchedBtn.addEventListener("click",(()=>{f("films")})),a.queueBtn.addEventListener("click",(()=>{f("queue")})),a.atqBtn.addEventListener("click",(()=>{const e=a.atqBtn.innerText;console.log(e),"ADD TO QUEUE"===e?d(films[0],"queue",a.atqBtn,"QUEUE"):u(l,"queue",a.atqBtn,"QUEUE")})),a.gokBtn.addEventListener("click",(()=>{console.log("Рандомний фільм",films[0]),s=c(films[0],"films",a.adwBtn,"WATCHED"),l=c(films[0],"queue",a.atqBtn,"QUEUE")}));var g,h=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,y=/^0o[0-7]+$/i,C=parseInt,x="object"==typeof n&&n&&n.Object===Object&&n,v="object"==typeof self&&self&&self.Object===Object&&self,S=x||v||Function("return this")(),b=Object.prototype.toString,q=Math.max,E=Math.min,_=function(){return S.Date.now()};function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}(e))return NaN;if(T(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=T(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||y.test(e)?C(e.slice(2),n?2:8):m.test(e)?NaN:+e}g=function(e,t,n){var r,o,i,a,s,l,c=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function h(e){return c=e,s=setTimeout(p,t),d?g(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=i}function p(){var e=_();if(m(e))return y(e);s=setTimeout(p,function(e){var n=t-(e-l);return u?E(n,i-(e-c)):n}(e))}function y(e){return s=void 0,f&&r?g(e):(r=o=void 0,a)}function C(){var e=_(),n=m(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return h(l);if(u)return s=setTimeout(p,t),g(l)}return void 0===s&&(s=setTimeout(p,t)),a}return t=O(t)||0,T(n)&&(d=!!n.leading,i=(u="maxWait"in n)?q(O(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),C.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},C.flush=function(){return void 0===s?a:y(_())},C};var B;B=new URL(i("kyEFX").resolve("i2NY3"),import.meta.url).toString();const L=document.querySelector(".js-spinner");function w(){L.classList.add("is-open")}function k(){setTimeout((function(){L.classList.remove("is-open")}),300)}const M={searchError:document.querySelector(".header__error-text"),emptyGalleryText:document.querySelector(".info-notify-text"),emptyGalleryImg:document.querySelector(".info-notify")};function N(e){M.emptyGalleryText.textContent=`${e}`,M.emptyGalleryImg.classList.remove("is-hidden")}function D(){M.emptyGalleryImg.classList.add("is-hidden")}const I=new class{fetchPopularMoviesMaxPage(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US").then((e=>e.json()))}fetchPopularMovies(){const e=`https://api.themoviedb.org/3/trending/movie/day?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${this.page}`;return fetch(e).then((e=>e.json())).then((({results:e})=>this.fetchFilmGenre().then((n=>e.map((e=>({...e,release_date:e.release_date?e.release_date.split("-")[0]:e.release_date,genres:this.filterGenres(n,e),poster_path:e.poster_path?`https://image.tmdb.org/t/p/w500/${e.poster_path}`:t(B)})))))))}filterGenres(e,t){let n=t.genre_ids.map((t=>e.filter((e=>e.id===t)).map((e=>e.name)))).flat();return 2===n.length&&(n=[`${n[0]}, ${n[1]}`]),n.length>2&&(n=`${n[0]}, ${n[1]}, Other`),n}filterGenresLib(e){let t=e.genres.map((e=>e.name)).flat();return 2===t.length&&(t=[`${t[0]}, ${t[1]}`]),t.length>2&&(t=`${t[0]}, ${t[1]}, Other`),t}fetchSearchMovies(){const e=`https://api.themoviedb.org/3/search/movie?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${this.page}&query=${this.searchQuery}`;return fetch(e).then((e=>e.json())).then((({results:e})=>this.fetchFilmGenre().then((n=>e.map((e=>({...e,release_date:e.release_date?e.release_date.split("-")[0]:e.release_date,genres:this.filterGenres(n,e),poster_path:e.poster_path?`https://image.tmdb.org/t/p/w500/${e.poster_path}`:t(B)})))))))}fetchFilmByID(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US`).then((e=>e.json())).then((e=>({...e,release_date:e.release_date?e.release_date.split("-")[0]:e.release_date,genres:this.filterGenresLib(e),poster_path:e.poster_path?`https://image.tmdb.org/t/p/w500/${e.poster_path}`:t(B)})))}fetchFilmGenre(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US").then((e=>e.json())).then((({genres:e})=>e))}fetchPopularMoviesPages(){const e=`https://api.themoviedb.org/3/trending/movie/day?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${this.page}`;return fetch(e).then((e=>e.json()))}fetchSearchMoviesPages(){const e=`https://api.themoviedb.org/3/trending/movie/day?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${this.page}&query=${this.searchQuery}`;return fetch(e).then((e=>e.json()))}fetchTrailers(e){return fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=${e} + "trailer"&key=AIzaSyBsjU_AyffyMHxyv2KNKiEnDPB3n0dY8XE`).then((e=>e.json())).then((e=>e.items[0].id.videoId))}get pageNum(){return this.page}set pageNum(e){this.page=e}resetPageNum(){return this.page=1}get maxPageNum(){return this.maxPage}set maxPageNum(e){this.maxPage=e}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1,this.maxPage=1}},U={gallery:document.querySelector(".js-gallery"),search:document.querySelector(".header__form-input"),pagination:document.querySelector(".pagination")};function j(){J(),D(),W(),w(),I.fetchPopularMovies().then($).catch(console.log).finally(k)}function A(){D(),w(),I.fetchSearchMovies().then((e=>{0===e.length?(M.searchError.classList.remove("is-hidden"),setTimeout((()=>M.searchError.classList.add("is-hidden")),2500),N("Film not found"),P()):$(e)})).catch(console.log).finally(k)}function $(e){U.gallery.insertAdjacentHTML("beforeend",cardTpl(e))}function J(){U.gallery.innerHTML=""}function P(){document.querySelectorAll(".film-average").forEach((e=>e.classList.remove("is-hidden"))),document.querySelectorAll(".card-delete-btn").forEach((e=>e.classList.remove("is-hidden"))),U.pagination.classList.add("is-hidden")}j(),U.search.addEventListener("input",t(g)((function(e){I.query=e.target.value,J(),V(),I.resetPageNum(),U.pagination.classList.remove("is-hidden"),I.query?(W(),A()):j()}),1e3)),U.search.addEventListener("keydown",(function(e){if("Enter"===e.code||13===e.keyCode)return void e.preventDefault()}));const Q=(e=1)=>{const t=`https://api.themoviedb.org/3/trending/movie/day?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${e}`,n=`https://api.themoviedb.org/3/search/movie?api_key=2f8d6050c74d5f454a522d74a8cedbb8&language=en-US&page=${e}&query=${I.searchQuery}`;let r=I.searchQuery?n:t;return fetch(r).then((e=>e.json())).then((e=>e.total_pages))},H={dec:document.querySelector("#dec"),inc:document.querySelector("#inc"),page_numbers:document.querySelectorAll(".pag_text"),page_items:document.querySelectorAll(".pag_item"),pageMax:document.querySelector(".last_page"),dotsLeft:document.querySelector('[data-dots="left"]'),dotsRigth:document.querySelector('[data-dots="rigth"]'),middleBtn:document.querySelector("#l3"),btn4:document.querySelector("#l4"),btn2:document.querySelector("#l2"),pageFirst:document.querySelector(".first_page")};function R(){H.page_items.forEach((e=>e.classList.remove("pag_item__current")))}function F(e){e.classList.add("is-hidden")}function G(e){e.classList.remove("is-hidden")}function W(){Q().then((e=>H.pageMax.firstChild.textContent=e))}function V(){G(H.dotsRigth),H.btn2.firstChild.textContent="2",H.middleBtn.firstChild.textContent="3",H.btn4.firstChild.textContent="4",F(H.dotsLeft),R(),H.pageFirst.classList.add("pag_item__current")}H.inc.addEventListener("click",(()=>{Q().then((e=>{+H.page_numbers[4].textContent!==e?(1==H.dec.disabled&&(H.dec.disabled=!1),H.page_items.forEach((e=>{1!=+e.firstChild.textContent&&"..."!==e.firstChild.textContent&&e.firstChild.textContent!==H.pageMax.firstChild.textContent&&e.firstChild.textContent++}))):H.inc.disabled=!0}))})),H.dec.addEventListener("click",(()=>{"1"!==H.page_numbers[0].textContent?(1==H.inc.disabled&&(H.inc.disabled=!1),H.page_numbers.forEach((e=>{e.textContent=+e.textContent-1}))):H.dec.disabled=!0})),H.page_items.forEach((e=>{e.addEventListener("click",(t=>{I.pageNum=e.firstChild.textContent,R(),"..."!==e.firstChild.textContent&&(setTimeout((()=>{e.firstChild.textContent,H.page_items.forEach((e=>{+I.pageNum==+e.firstChild.textContent&&e.classList.add("pag_item__current")}))}),300),t.currentTarget===H.btn4&&(H.page_items.forEach((e=>{1!=+e.firstChild.textContent&&"..."!==e.firstChild.textContent&&e.firstChild.textContent!==H.pageMax.firstChild.textContent&&e.firstChild.textContent++})),G(H.dotsLeft)),t.currentTarget===H.btn2&&3==+e.firstChild.textContent&&(H.page_items.forEach((e=>{1!=+e.firstChild.textContent&&"..."!==e.firstChild.textContent&&e.firstChild.textContent!==H.pageMax.firstChild.textContent&&e.firstChild.textContent--})),F(H.dotsLeft)),t.currentTarget===H.btn2&&+e.firstChild.textContent>3&&H.page_items.forEach((e=>{1!=+e.firstChild.textContent&&"..."!==e.firstChild.textContent&&e.firstChild.textContent!==H.pageMax.firstChild.textContent&&e.firstChild.textContent--})),1==+e.firstChild.textContent&&(G(H.dotsRigth),H.btn2.firstChild.textContent="2",H.middleBtn.firstChild.textContent="3",H.btn4.firstChild.textContent="4",F(H.dotsLeft)),e.firstChild.textContent===H.pageMax.firstChild.textContent&&(G(H.dotsLeft),H.btn2.firstChild.textContent=+H.pageMax.firstChild.textContent-3,H.middleBtn.firstChild.textContent=+H.pageMax.firstChild.textContent-2,H.btn4.firstChild.textContent=+H.pageMax.firstChild.textContent-1,F(H.dotsRigth)),t.currentTarget===H.btn2&&+H.pageMax.firstChild.textContent-3&&G(H.dotsRigth),t.currentTarget===H.btn4&&+t.currentTarget.firstChild.textContent==+H.pageMax.firstChild.textContent-1&&F(H.dotsRigth),J(),I.searchQuery?A():j())}))})),i("9S3j6");const X={watchedBtn:document.querySelector(".watched"),queueBtn:document.querySelector(".queue"),adwBtn:document.querySelector(".adw"),atqBtn:document.querySelector(".atq"),gokBtn:document.querySelector(".gok")};let Y=-1,K=-1,z=0;try{localStorage.getItem("films")||localStorage.setItem("films",JSON.stringify([]));localStorage.getItem("queue")||localStorage.setItem("queue",JSON.stringify([]))}catch(e){console.log(e)}function Z(e,t,n,r){let o=[];try{o=JSON.parse(localStorage.getItem(t))}catch(e){console.log(e)}if(o.length){const t=o.findIndex((t=>t.id===e.id));return t>-1?(console.log("Фільм знаходиться в збережених у памяті кнопка remove під номером - ",t),n.innerText="REMOVE TO "+r,t):(console.log("Фільма немає в збережених у памяті кнопка add to watch"),n.innerText="ADD TO "+r,-1)}return console.log("Список фільмів збережених у памяті пустий кнопка add to watch"),n.innerText="ADD TO "+r,0}function ee(e,t,n,r){try{const o=JSON.parse(localStorage.getItem(t));o.push(e),localStorage.setItem(t,JSON.stringify(o)),console.log("фільм додано"),n.innerText="REMOVE TO "+r}catch(e){console.log(e)}}function te(e,t,n,r){try{const o=JSON.parse(localStorage.getItem(t));o.splice(e,1),localStorage.setItem(t,JSON.stringify(o)),console.log("фільм видалено"),n.innerText="ADD TO "+r}catch(e){console.log(e)}}function ne(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function ne(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}X.adwBtn.addEventListener("click",(()=>{const e=X.adwBtn.innerText;console.log(e),"ADD TO WATCHED"===e?ee(films[z],"films",X.adwBtn,"WATCHED"):te(Y,"films",X.adwBtn,"WATCHED")})),X.watchedBtn.addEventListener("click",(()=>{ne("films")})),X.queueBtn.addEventListener("click",(()=>{ne("queue")})),X.atqBtn.addEventListener("click",(()=>{const e=X.atqBtn.innerText;console.log(e),"ADD TO QUEUE"===e?ee(films[z],"queue",X.atqBtn,"QUEUE"):te(K,"queue",X.atqBtn,"QUEUE")})),X.gokBtn.addEventListener("click",(()=>{z=Math.floor(7*Math.random()),console.log("Рандомний фільм",films[z]),Y=Z(films[z],"films",X.adwBtn,"WATCHED"),K=Z(films[z],"queue",X.atqBtn,"QUEUE")})),i("cyVPf");
//# sourceMappingURL=library.af6a75b4.js.map
